body, html, #root {
  margin: 0;
  padding: 0;
  height: 100%;
  background: #0b0f17;
  color: #e2e6ef;
  font-family: system-ui, sans-serif;
}

/* Layout */
.app { display: flex; flex-direction: column; height: 100%; }
.topbar {
  display: flex; justify-content: space-between; align-items: center;
  background: #111826; padding: 10px 16px; border-bottom: 1px solid #222b3d;
}
.brand { font-weight: 700; font-size: 18px; }
.actions { display: flex; gap: 8px; }
.actions button {
  padding: 6px 12px; border-radius: 6px;
  border: 1px solid #2a3140; background: #1a2230;
  color: #e2e6ef; cursor: pointer;
}
.actions button:hover { background: #232c40; }
.actions .primary { background: #3867ff; border-color: #2f56cc; color: #fff; }
.actions .outline { background: transparent; }

/* Content */
.content { flex: 1; display: flex; overflow: hidden; }
.sidebar {
  width: 240px; /* slightly wider to avoid cramped text near scrollbar */
  background: #121820;
  border-right: 1px solid #1f2937;
  padding: 12px 14px 12px 12px; /* extra right padding so content isn't covered by scrollbar */
  overflow-y: auto;
  box-sizing: border-box;
}
.section-title { font-size: 13px; text-transform: uppercase; margin-bottom: 6px; color: #9aa4b2; }
.friend-list { display: grid; gap: 6px; }
.friend-row { display: flex; align-items: center; gap: 8px; font-size: 14px; padding: 6px 4px; border-radius: 8px; }
.friend-row:hover { background: rgba(255,255,255,0.02); }
.busy-dot { width: 10px; height: 10px; border-radius: 50%; flex: 0 0 10px; }
.friend-name { flex: 1; min-width: 0; overflow: hidden; text-overflow: ellipsis; white-space: nowrap; }

/* Impersonate button styling */
.impersonate-btn {
  padding: 6px 10px;
  border-radius: 8px;
  border: 1px solid rgba(99,102,241,0.12);
  background: linear-gradient(180deg, rgba(56,103,255,0.12), rgba(56,103,255,0.06));
  color: #dfe8ff;
  font-size: 13px;
  cursor: pointer;
  transition: transform .12s ease, box-shadow .12s ease, background .12s ease;
}
.impersonate-btn:hover { transform: translateY(-2px); box-shadow: 0 6px 18px rgba(56,103,255,0.12); background: linear-gradient(180deg, rgba(56,103,255,0.18), rgba(56,103,255,0.08)); }
.impersonate-btn:active { transform: translateY(0); }
.impersonate-btn.ghost { background: transparent; border-color: rgba(255,255,255,0.04); color: #cbd5ff; }

/* Calendar container */
.main { flex: 1; overflow: hidden; padding: 10px; }

/* Modal (Login/Register) */
.modal-backdrop {
  position: fixed; inset: 0;
  background: rgba(0,0,0,0.55);
  display: grid; place-items: center;
  z-index: 50;
}
.modal {
  width: min(92vw, 440px);
  background: #101318;
  border: 1px solid #232936;
  border-radius: 12px;
  box-shadow: 0 10px 40px rgba(0,0,0,0.35);
  color: #d6d9e0;
  padding: 16px;
}
.tabs { display: flex; gap: 8px; margin-bottom: 12px; }
.tabs button {
  flex: 1; padding: 10px; border-radius: 8px;
  background: #141a22; border: 1px solid #2a3140;
  color: #cfd3db; cursor: pointer;
}
.tabs button.active { background: #1a2230; border-color: #405275; color: #fff; }

.form { display: grid; gap: 12px; }
.form label { display: grid; gap: 6px; }
.form label span { font-size: 13px; color: #9aa4b2; }
.form input {
  padding: 10px 12px; border-radius: 8px;
  border: 1px solid #2a3140; background: #121820;
  color: #e7ebf3; outline: none;
}
.form input:focus { border-color: #4b83ff; }
.error {
  background: #2a1316; border: 1px solid #6a1b1f;
  color: #ffc7cc; border-radius: 8px;
  padding: 8px 10px; font-size: 13px;
}
.modal-actions { margin-top: 8px; display: flex; justify-content: flex-end; gap: 8px; }
.status-pill {
  padding: 2px 8px;
  border-radius: 999px;
  font-size: 12px;
  font-weight: 600;
  border: 1px solid transparent;
}
.status-free { background: #0b2312; color: #8ef0b2; border-color: #1e3a2f; }
.status-busy { background: #2b1012; color: #ffb4bc; border-color: #5a1d23; }

.friend-row .right {
  margin-left: auto;
  display: flex;
  align-items: center;
  gap: 6px;
}
/* === react-big-calendar dark fixes === */
.rbc-calendar { background:#0b1220; color:#e5e7eb; }

/* Month / Week / Day surfaces */
.rbc-month-view,
.rbc-time-view,
.rbc-agenda-view { background:#0b1220; }

.rbc-header {
  background:#0f172a;
  color:#cbd5e1;
  border-bottom:1px solid #1f2937;
}

/* Days outside the current month */
.rbc-off-range { color:#6b7280; }
.rbc-off-range-bg { background:#0b1220 !important; }  /* kill the white */

/* Today highlight */
.rbc-today { background:rgba(59,130,246,.08) !important; }

/* Grid lines / gutters */
.rbc-row-bg { background:transparent; }
.rbc-day-bg + .rbc-day-bg { border-left:1px solid #1f2937; }
.rbc-month-row + .rbc-month-row { border-top:1px solid #1f2937; }
.rbc-time-gutter, .rbc-header-gutter { background:#0b1220; }
.rbc-time-slot { border-top:1px dashed #1f2937; }

/* Event pills / “+N more” / overlays */
.rbc-event {
  position: relative;
  overflow: visible;
  background: transparent; /* actual background is applied inline from eventPropGetter */
  color: inherit;
  border: none;
  font-weight: 600;
  transition: all 1250ms cubic-bezier(0.19, 1, 0.22, 1);
  will-change: transform;
  z-index: 1;

  /* btn-5 initial state: subtle outline and no inset glow */
  box-shadow: inset 0 0 20px rgba(255,255,255,0);
  outline: 1px solid;
  outline-color: rgba(255,255,255,0.5);
  outline-offset: 0px;
  text-shadow: none;
}

.rbc-event:hover {
  transform: translateY(-2px) scale(1.01); /* small lift */
  /* btn-5 hover: inset glow + outer soft glow */
  box-shadow: inset 0 0 20px rgba(255,255,255,0.5), 0 0 20px rgba(255,255,255,0.2), 0 6px 18px rgba(2,6,23,0.18);
  outline-color: rgba(255,255,255,0);
  outline-offset: 15px;
  text-shadow: 1px 1px 2px #427388;
  cursor: pointer;
}
.rbc-show-more { color:#60a5fa; background:rgba(96,165,250,.1); }
.rbc-overlay { background:#111827; color:#e5e7eb; border-color:#374151; }

/* Now indicator */
.rbc-current-time-indicator { background:#22c55e; }

/* removed rainbow glow keyframes: using subtle white outline hover instead */
